# skill_digest: 651e129c7e0478c097161a76655c9f54e3566f5510368426e68d88fbbceb77b9
Based on the skill guidance, here's how to debug a TaskRun stuck in Pending state:

## Quick Diagnosis Steps

**1. Check the TaskRun status:**
```bash
kubectl get taskrun <tr-name> -n <namespace>
kubectl describe taskrun <tr-name> -n <namespace>
```

**2. Check for the pod (it may not exist yet):**
```bash
kubectl get pods -l tekton.dev/taskRun=<tr-name> -n <namespace>
```

**3. Check Kubernetes events for scheduling issues:**
```bash
kubectl get events -n <namespace> --sort-by='.lastTimestamp'

# Or filter for the specific TaskRun
kubectl get events --field-selector involvedObject.name=<pod-name> -n <namespace>
```

## Common Causes for Pending State

A TaskRun stuck in Pending is typically due to:

### **Resource Constraints**
The most common cause - check:
```bash
# Check namespace quotas
kubectl describe namespace <namespace> | grep -A5 "Resource Quotas"

# Check node capacity
kubectl describe node | grep -A5 "Allocated resources"

# Check if quota is exceeded
kubectl top pods -n <namespace>
```

Look for events like:
- `FailedScheduling` - indicates the pod can't be scheduled
- Messages about "Insufficient cpu", "Insufficient memory", or "quota exceeded"

### **PersistentVolumeClaim Issues**
If the TaskRun uses workspaces:
```bash
kubectl get pvc -n <namespace>
kubectl describe pvc <pvc-name> -n <namespace>
```

Check if PVC is stuck in `Pending` state (not `Bound`)

### **Node Selector/Affinity Issues**
The Task may require nodes with specific labels that don't exist

## What to Look For

In the `kubectl describe taskrun` output, check:
- **Conditions**: Look for messages explaining why it's pending
- **Resource requests**: Are they too high?
- **Workspace configurations**: Any PVC issues?

In events, look for:
- `FailedScheduling` events
- Quota exceeded messages
- Volume binding issues

## Quick Fixes

- **Quota exceeded**: Increase namespace quotas or reduce resource requests
- **PVC not bound**: Check storage class and provisioner
- **Node capacity**: Scale cluster or reduce resource requests
- **No matching nodes**: Check node selectors/affinity rules

Would you like me to help you run these commands? I'll need to know your TaskRun name and namespace.
